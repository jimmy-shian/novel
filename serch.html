<!DOCTYPE html>
<html>
  <head>
    <!-- Required meta tags -->
    <meta name="google-site-verification" content="yYD82Aavnj3Ey0ieJxHEPL61iH9767ncuevx9vPzSsI" />
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2415998114933157"
    crossorigin="anonymous"></script>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-wEmeIV1mKuiNpC+IOBjI7aAzPcEZeedi5yW5f2yOq55WWLwNGmvvx4Um1vskeMj0" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="https://jimmy-shian.github.io/novel/novel.css">
    <!-- <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-p34f1UUtsS3wqzfto5wAAmdvj+osOnFyQFpp4Ua3gs/ZVWx6oOypYoCJhGGScy+8" crossorigin="anonymous"></script> -->
    <!-- <script src="../novel.js"></script> -->
    <!-- <script src="../table.js"></script> -->
    <!-- <meta name="google-site-verification" content="yYD82Aavnj3Ey0ieJxHEPL61iH9767ncuevx9vPzSsI" /> -->
  <link rel="icon" type="image/png" href="https://jimmy-shian.github.io/novel/picture/webico.png">
  <!-- <style>
  </style> -->
<title>Keyword Search</title>
  </head>
<style>
  /*body {
    background-color: #dfdfdf;
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 0;
}*/

.search-container {
    display: flex;
    align-items: center;
    padding: 20px;
    background-color: #ffecec;
    box-shadow: 0 2px 4px rgba(120, 120, 120, 0.1);
}

input[type="text"] {
    padding: 10px;
    border: 1px solid #ccc;
    border-radius: 4px;
    margin-right: 10px;
}

button {
    padding: 10px 20px;
    background-color: #4CAF50;
    border: none;
    color: white;
    border-radius: 4px;
    cursor: pointer;
}

#loading-spinner {
    display: none;
    /* border: 4px solid #21628e; */
    border-top: 3.5px solid #21628e;
    border-radius: 50%;
    width: 35px;
    height: 35px;
    animation: spin 0.8s linear infinite;
    margin: 0 25px;
  }
  
  @keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
  }
  .result-place-first {
    margin: 18px 0 0 8vh;
    display: flex;
    flex-wrap: wrap;
    flex-direction: row;
    line-height: 1.7;
  }

  .result-place {
    margin: 18px 0 20vh 10vh;
    display: flex;
    flex-wrap: wrap;
    flex-direction: row;
    line-height: 1.7;
  }

  .result-place a {
    white-space: nowrap; /* 防止文字换行 */
    margin-right: 10px; /* 调整链接之间的间距 */
  }

  #result > div:first-child {
    flex-basis: 100%; /* 佔據整行寬度 */
    white-space: pre-line;
    padding-bottom: 10px;
  }
  .result-place div {
  /* white-space: pre-line;
  display: flex; */
  width: 40vh;
}
</style>
<body>
<div id="content-nav">  </div>

    <div class="search-container">
        <input type="text" id="searchInput" value="滄元圖 雲青萍大周王" placeholder="輸入文字">
        <button onclick="search()">搜索</button>
        <!-- <div id="loadingSpinner" class="spinner"></div> -->
        <div id="loading-spinner"></div>
    </div>
    <div id="result-time" class="result-place-first"></div>
    <div id="result" class="result-place"></div>

<div id="content-end">  </div>

<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
<script src="https://jimmy-shian.github.io/novel/jquery-3.7.0.min.js" defer></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-p34f1UUtsS3wqzfto5wAAmdvj+osOnFyQFpp4Ua3gs/ZVWx6oOypYoCJhGGScy+8" crossorigin="anonymous"></script>
<script src="https://jimmy-shian.github.io/novel/index.waku.js" defer></script>

<script src="searchjs/data1.js" async></script>
<script src="searchjs/data2.js" async></script>
<script src="searchjs/data3.js" async></script>
<script src="searchjs/data4.js" async></script>
<script src="searchjs/data5.js" async></script>
<script src="searchjs/data6.js" async></script>
<script src="searchjs/data7.js" async></script>
<script src="searchjs/data8.js" async></script>
<script src="searchjs/data9.js" async></script>
<script src="searchjs/data10.js" async></script>
<script src="searchjs/data11.js" async></script>
<script src="searchjs/data12.js" async></script>
<script src="searchjs/data13.js" async></script>
<script src="searchjs/data14.js" async></script>
<script src="searchjs/data15.js" async></script>
<script src="searchjs/data16.js" async></script>
<script src="searchjs/data17.js" async></script>
<script src="searchjs/data18.js" async></script>
<script src="searchjs/data19.js" async></script>
<script src="searchjs/data20.js" async></script>
<script src="searchjs/data21.js" async></script>
<script src="searchjs/data22.js" async></script>
<script src="searchjs/data23.js" async></script>
<script src="searchjs/data24.js" async></script>
<script src="searchjs/data25.js" async></script>
<script src="searchjs/data26.js" async></script>
<script src="searchjs/data27.js" async></script>
<script src="searchjs/data28.js" async></script>
<script src="searchjs/data29.js" async></script>
<script src="searchjs/data30.js" async></script>
<script src="searchjs/data31.js" async></script>
<script src="searchjs/data32.js" async></script>
<script src="searchjs/data33.js" async></script>
<script src="searchjs/data34.js" async></script>
<script src="searchjs/data35.js" async></script>
<script src="searchjs/data36.js" async></script>
<script src="searchjs/data37.js" async></script>
<script src="searchjs/data38.js" async></script>
<script src="searchjs/data39.js" async></script>
<script src="searchjs/data40.js" async></script>
<script src="searchjs/data41.js" async></script>
<script src="searchjs/data42.js" async></script>
<script src="searchjs/data43.js" async></script>
<script src="searchjs/data44.js" async></script>
<script src="searchjs/data45.js" async></script>
<script src="searchjs/data46.js" async></script>
<script src="searchjs/data47.js" async></script>
<script src="searchjs/data48.js" async></script>
<script src="searchjs/data49.js" async></script>
<script src="searchjs/data50.js" async></script>
<script src="searchjs/data51.js" async></script>
<script src="searchjs/data52.js" async></script>
<script src="searchjs/data53.js" async></script>
<script src="searchjs/data54.js" async></script>
<script src="searchjs/data55.js" async></script>
<script src="searchjs/data56.js" async></script>
<script src="searchjs/data57.js" async></script>
<script src="searchjs/data58.js" async></script>
<script src="searchjs/data59.js" async></script>
<script src="searchjs/data60.js" async></script>
<script src="searchjs/data61.js" async></script>
<script src="searchjs/data62.js" async></script>
<script src="searchjs/data63.js" async></script>
<script src="searchjs/data64.js" async></script>
<script src="searchjs/data65.js" async></script>
<script src="searchjs/data66.js" async></script>
<script src="searchjs/data67.js" async></script>
<script src="searchjs/data68.js" async></script>
<script src="searchjs/data69.js" async></script>
<script src="searchjs/data70.js" async></script>
<script src="searchjs/data71.js" async></script>
<script src="searchjs/data72.js" async></script>
<script src="searchjs/data73.js" async></script>
<script src="searchjs/data74.js" async></script>
<script src="searchjs/data75.js" async></script>
<script src="searchjs/data76.js" async></script>
<script src="searchjs/data77.js" async></script>
<script src="searchjs/data78.js" async></script>
<script src="searchjs/data79.js" async></script>
<script src="searchjs/data80.js" async></script>
<script src="searchjs/data81.js" async></script>
<script src="searchjs/data82.js" async></script>
<script src="searchjs/data83.js" async></script>
<script src="searchjs/data84.js" async></script>
<script src="searchjs/data85.js" async></script>
<script src="searchjs/data86.js" async></script>
<script src="searchjs/data87.js" async></script>
<script src="searchjs/data88.js" async></script>
<script src="searchjs/data89.js" async></script>
<script src="searchjs/data90.js" async></script>
<script src="searchjs/data91.js" async></script>
<script src="searchjs/data92.js" async></script>
<script src="searchjs/data93.js" async></script>
<script src="searchjs/data94.js" async></script>
<script src="searchjs/data95.js" async></script>
<script src="searchjs/data96.js" async></script>
<script src="searchjs/data97.js" async></script>
<script src="searchjs/data98.js" async></script>
<script src="searchjs/data99.js" async></script>
<script src="searchjs/data100.js" async></script>
<script src="searchjs/data101.js" async></script>
<script src="searchjs/data102.js" async></script>
<script src="searchjs/data103.js" async></script>
<script src="searchjs/data104.js" async></script>
<script src="searchjs/data105.js" async></script>
<script src="searchjs/data106.js" async></script>
<script src="searchjs/data107.js" async></script>
<script src="searchjs/data108.js" async></script>
<script src="searchjs/data109.js" async></script>
<script src="searchjs/data110.js" async></script>
<script src="searchjs/data111.js" async></script>
<script src="searchjs/data112.js" async></script>
<script src="searchjs/data113.js" async></script>
<script src="searchjs/data114.js" async></script>
<script src="searchjs/data115.js" async></script>
<script src="searchjs/data116.js" async></script>
<script src="searchjs/data117.js" async></script>
<script src="searchjs/data118.js" async></script>
<script src="searchjs/data119.js" async></script>
<script src="searchjs/data120.js" async></script>
<script src="searchjs/data121.js" async></script>
<script src="searchjs/data122.js" async></script>
<script src="searchjs/data123.js" async></script>
<script src="searchjs/data124.js" async></script>
<script src="searchjs/data125.js" async></script>
<script src="searchjs/data126.js" async></script>
<script src="searchjs/data127.js" async></script>
<script src="searchjs/data128.js" async></script>
<script src="searchjs/data129.js" async></script>
<script src="searchjs/data130.js" async></script>
<script src="searchjs/data131.js" async></script>
<script src="searchjs/data132.js" async></script>
<script src="searchjs/data133.js" async></script>
<script src="searchjs/data134.js" async></script>
<script src="searchjs/data135.js" async></script>
<script src="searchjs/data136.js" async></script>
<script src="searchjs/data137.js" async></script>
<script src="searchjs/data138.js" async></script>
<script src="searchjs/data139.js" async></script>
<script src="searchjs/data140.js" async></script>
<script src="searchjs/data141.js" async></script>
<script src="searchjs/data142.js" async></script>
<script src="searchjs/data143.js" async></script>
<script src="searchjs/data144.js" async></script>
<script src="searchjs/data145.js" async></script>
<script src="searchjs/data146.js" async></script>
<script src="searchjs/data147.js" async></script>
<script src="searchjs/data148.js" async></script>
<script src="searchjs/data149.js" async></script>
<script src="searchjs/data150.js" async></script>
<script src="searchjs/data151.js" async></script>
<script src="searchjs/data152.js" async></script>
<script src="searchjs/data153.js" async></script>
<script src="searchjs/data154.js" async></script>
<script src="searchjs/data155.js" async></script>
<script src="searchjs/data156.js" async></script>
<script src="searchjs/data157.js" async></script>
<script src="searchjs/data158.js" async></script>
<script src="searchjs/data159.js" async></script>
<script src="searchjs/data160.js" async></script>
<script src="searchjs/data161.js" async></script>
<script src="searchjs/data162.js" async></script>
<script src="searchjs/data163.js" async></script>
<script src="searchjs/data164.js" async></script>
<script src="searchjs/data165.js" async></script>
<script src="searchjs/data166.js" async></script>
<script src="searchjs/data167.js" async></script>
<script src="searchjs/data168.js" async></script>
<script src="searchjs/data169.js" async></script>
<script src="searchjs/data170.js" async></script>
<script src="searchjs/data171.js" async></script>
<script src="searchjs/data172.js" async></script>
<script src="searchjs/data173.js" async></script>
<script src="searchjs/data174.js" async></script>
<script src="searchjs/data175.js" async></script>
<script src="searchjs/data176.js" async></script>
<script src="searchjs/data177.js" async></script>
<script src="searchjs/data178.js" async></script>
<script src="searchjs/data179.js" async></script>
<script src="searchjs/data180.js" async></script>
<script src="searchjs/data181.js" async></script>
<script src="searchjs/data182.js" async></script>
<script src="searchjs/data183.js" async></script>
<script src="searchjs/data184.js" async></script>
<script src="searchjs/data185.js" async></script>
<script src="searchjs/data186.js" async></script>
<script src="searchjs/data187.js" async></script>
<script src="searchjs/data188.js" async></script>
<script src="searchjs/data189.js" async></script>
<script src="searchjs/data190.js" async></script>
<script src="searchjs/data191.js" async></script>
<script src="searchjs/data192.js" async></script>
<script src="searchjs/data193.js" async></script>
<script src="searchjs/data194.js" async></script>
<script src="searchjs/data195.js" async></script>
<script src="searchjs/data196.js" async></script>
<script src="searchjs/data197.js" async></script>
<script src="searchjs/data198.js" async></script>
<script src="searchjs/data199.js" async></script>
<script src="searchjs/data200.js" async></script>
<script src="searchjs/data201.js" async></script>
<script src="searchjs/data202.js" async></script>
<script src="searchjs/data203.js" async></script>
<script src="searchjs/data204.js" async></script>
<script src="searchjs/data205.js" async></script>
<script src="searchjs/data206.js" async></script>
<script src="searchjs/data207.js" async></script>
<script src="searchjs/data208.js" async></script>
<script src="searchjs/data209.js" async></script>
<script src="searchjs/data210.js" async></script>
<script src="searchjs/data211.js" async></script>
<script src="searchjs/data212.js" async></script>
<script src="searchjs/data213.js" async></script>
<script src="searchjs/data214.js" async></script>
<script src="searchjs/data215.js" async></script>
<script src="searchjs/data216.js" async></script>
<script src="searchjs/data217.js" async></script>
<script src="searchjs/data218.js" async></script>
<script src="searchjs/data219.js" async></script>
<script src="searchjs/data220.js" async></script>
<script src="searchjs/data221.js" async></script>
<script src="searchjs/data222.js" async></script>
<script src="searchjs/data223.js" async></script>
<script src="searchjs/data224.js" async></script>
<script src="searchjs/data225.js" async></script>
<script src="searchjs/data226.js" async></script>
<script src="searchjs/data227.js" async></script>
<script src="searchjs/data228.js" async></script>
<script src="searchjs/data229.js" async></script>
<script src="searchjs/data230.js" async></script>
<script src="searchjs/data231.js" async></script>
<script src="searchjs/data232.js" async></script>
<script src="searchjs/data233.js" async></script>
<script src="searchjs/data234.js" async></script>
<script src="searchjs/data235.js" async></script>
<script src="searchjs/data236.js" async></script>
<script src="searchjs/data237.js" async></script>
<script src="searchjs/data238.js" async></script>
<script src="searchjs/data239.js" async></script>
<script src="searchjs/data240.js" async></script>
<script src="searchjs/data241.js" async></script>
<script src="searchjs/data242.js" async></script>
<script src="searchjs/data243.js" async></script>
<script src="searchjs/data244.js" async></script>
<script src="searchjs/data245.js" async></script>
<script src="searchjs/data246.js" async></script>
<script src="searchjs/data247.js" async></script>
<script src="searchjs/data248.js" async></script>
<script src="searchjs/data249.js" async></script>
<script src="searchjs/data250.js" async></script>
<script src="searchjs/data251.js" async></script>
<script src="searchjs/data252.js" async></script>
<script src="searchjs/data253.js" async></script>
<script src="searchjs/data254.js" async></script>
<script src="searchjs/data255.js" async></script>
<script src="searchjs/data256.js" async></script>
<script src="searchjs/data257.js" async></script>
<script src="searchjs/data258.js" async></script>
<script src="searchjs/data259.js" async></script>
<script src="searchjs/data260.js" async></script>
<script src="searchjs/data261.js" async></script>
<script src="searchjs/data262.js" async></script>
<script src="searchjs/data263.js" async></script>
<script src="searchjs/data264.js" async></script>
<script src="searchjs/data265.js" async></script>
<script src="searchjs/data266.js" async></script>
<script src="searchjs/data267.js" async></script>
<script src="searchjs/data268.js" async></script>
<script src="searchjs/data269.js" async></script>
<script src="searchjs/data270.js" async></script>
<script src="searchjs/data271.js" async></script>
<script src="searchjs/data272.js" async></script>
<script src="searchjs/data273.js" async></script>
<script src="searchjs/data274.js" async></script>
<script src="searchjs/data275.js" async></script>
<script src="searchjs/data276.js" async></script>
<script src="searchjs/data277.js" async></script>
<script src="searchjs/data278.js" async></script>
<script src="searchjs/data279.js" async></script>
<script src="searchjs/data280.js" async></script>
<script src="searchjs/data281.js" async></script>
<script src="searchjs/data282.js" async></script>
<script src="searchjs/data283.js" async></script>
<script src="searchjs/data284.js" async></script>
<script src="searchjs/data285.js" async></script>
<script src="searchjs/data286.js" async></script>
<script src="searchjs/data287.js" async></script>
<script src="searchjs/data288.js" async></script>
<script src="searchjs/data289.js" async></script>
<script src="searchjs/data290.js" async></script>
<script src="searchjs/data291.js" async></script>
<script src="searchjs/data292.js" async></script>
<script src="searchjs/data293.js" async></script>
<script src="searchjs/data294.js" async></script>
<script src="searchjs/data295.js" async></script>
<script src="searchjs/data296.js" async></script>
<script src="searchjs/data297.js" async></script>
<script src="searchjs/data298.js" async></script>
<script src="searchjs/data299.js" async></script>
<script src="searchjs/data300.js" async></script>
<script src="searchjs/data301.js" async></script>
<script src="searchjs/data302.js" async></script>
<script src="searchjs/data303.js" async></script>
<script src="searchjs/data304.js" async></script>
<script src="searchjs/data305.js" async></script>
<script src="searchjs/data306.js" async></script>
<script src="searchjs/data307.js" async></script>
<script src="searchjs/data308.js" async></script>
<script src="searchjs/data309.js" async></script>
<script src="searchjs/data310.js" async></script>
<script src="searchjs/data311.js" async></script>
<script src="searchjs/data312.js" async></script>
<script src="searchjs/data313.js" async></script>
<script src="searchjs/data314.js" async></script>
<script src="searchjs/data315.js" async></script>
<script src="searchjs/data316.js" async></script>
<script src="searchjs/data317.js" async></script>
<script src="searchjs/data318.js" async></script>
<script src="searchjs/data319.js" async></script>
<script src="searchjs/data320.js" async></script>
<script src="searchjs/data321.js" async></script>
<script src="searchjs/data322.js" async></script>
<script src="searchjs/data323.js" async></script>
<script src="searchjs/data324.js" async></script>
<script src="searchjs/data325.js" async></script>
<script src="searchjs/data326.js" async></script>
<script src="searchjs/data327.js" async></script>
<script src="searchjs/data328.js" async></script>
<script src="searchjs/data329.js" async></script>
<script src="searchjs/data330.js" async></script>
<script src="searchjs/data331.js" async></script>
<script src="searchjs/data332.js" async></script>
<script src="searchjs/data333.js" async></script>
<script src="searchjs/data334.js" async></script>
<script src="searchjs/data335.js" async></script>
<script src="searchjs/data336.js" async></script>
<script src="searchjs/data337.js" async></script>
<script src="searchjs/data338.js" async></script>
<script src="searchjs/data339.js" async></script>
<script src="searchjs/data340.js" async></script>
<script src="searchjs/data341.js" async></script>
<script src="searchjs/data342.js" async></script>
<script src="searchjs/data343.js" async></script>
<script src="searchjs/data344.js" async></script>
<script src="searchjs/data345.js" async></script>
<script src="searchjs/data346.js" async></script>
<script src="searchjs/data347.js" async></script>
<script src="searchjs/data348.js" async></script>
<script src="searchjs/data349.js" async></script>
<script src="searchjs/data350.js" async></script>
<script src="searchjs/data351.js" async></script>
<script src="searchjs/data352.js" async></script>
<script src="searchjs/data353.js" async></script>
<script src="searchjs/data354.js" async></script>
<script src="searchjs/data355.js" async></script>
<script src="searchjs/data356.js" async></script>
<script src="searchjs/data357.js" async></script>
<script src="searchjs/data358.js" async></script>
<script src="searchjs/data359.js" async></script>
<script src="searchjs/data360.js" async></script>
<script src="searchjs/data361.js" async></script>
<script src="searchjs/data362.js" async></script>
<script src="searchjs/data363.js" async></script>
<script src="searchjs/data364.js" async></script>
<script src="searchjs/data365.js" async></script>
<script src="searchjs/data366.js" async></script>
<script src="searchjs/data367.js" async></script>
<script src="searchjs/data368.js" async></script>
<script src="searchjs/data369.js" async></script>
<script src="searchjs/data370.js" async></script>
<script src="searchjs/data371.js" async></script>
<script src="searchjs/data372.js" async></script>
<script src="searchjs/data373.js" async></script>
<script src="searchjs/data374.js" async></script>
<script src="searchjs/data375.js" async></script>
<script src="searchjs/data376.js" async></script>
<script src="searchjs/data377.js" async></script>
<script src="searchjs/data378.js" async></script>
<script src="searchjs/data379.js" async></script>
<script src="searchjs/data380.js" async></script>
<script src="searchjs/data381.js" async></script>
<script src="searchjs/data382.js" async></script>
<script src="searchjs/data383.js" async></script>
<script src="searchjs/data384.js" async></script>
<script src="searchjs/data385.js" async></script>
<script src="searchjs/data386.js" async></script>
<script src="searchjs/data387.js" async></script>
<script src="searchjs/data388.js" async></script>
<script src="searchjs/data389.js" async></script>
<script src="searchjs/data390.js" async></script>
<script src="searchjs/data391.js" async></script>
<script src="searchjs/data392.js" async></script>
<script src="searchjs/data393.js" async></script>
<script src="searchjs/data394.js" async></script>
<script src="searchjs/data395.js" async></script>
<script src="searchjs/data396.js" async></script>
<script src="searchjs/data397.js" async></script>
<script src="searchjs/data398.js" async></script>
<script src="searchjs/data399.js" async></script>
<script src="searchjs/data400.js" async></script>
<script>
const data = data1.concat(data2).concat(data3).concat(data4).concat(data5).concat(data6).concat(data7).concat(data8).concat(data9).concat(data10).concat(data11).concat(data12).concat(data13).concat(data14).concat(data15).concat(data16).concat(data17).concat(data18).concat(data19).concat(data20).concat(data21).concat(data22).concat(data23).concat(data24).concat(data25).concat(data26).concat(data27).concat(data28).concat(data29).concat(data30).concat(data31).concat(data32).concat(data33).concat(data34).concat(data35).concat(data36).concat(data37).concat(data38).concat(data39).concat(data40).concat(data41).concat(data42).concat(data43).concat(data44).concat(data45).concat(data46).concat(data47).concat(data48).concat(data49).concat(data50).concat(data51).concat(data52).concat(data53).concat(data54).concat(data55).concat(data56).concat(data57).concat(data58).concat(data59).concat(data60).concat(data61).concat(data62).concat(data63).concat(data64).concat(data65).concat(data66).concat(data67).concat(data68).concat(data69).concat(data70).concat(data71).concat(data72).concat(data73).concat(data74).concat(data75).concat(data76).concat(data77).concat(data78).concat(data79).concat(data80).concat(data81).concat(data82).concat(data83).concat(data84).concat(data85).concat(data86).concat(data87).concat(data88).concat(data89).concat(data90).concat(data91).concat(data92).concat(data93).concat(data94).concat(data95).concat(data96).concat(data97).concat(data98).concat(data99).concat(data100).concat(data101).concat(data102).concat(data103).concat(data104).concat(data105).concat(data106).concat(data107).concat(data108).concat(data109).concat(data110).concat(data111).concat(data112).concat(data113).concat(data114).concat(data115).concat(data116).concat(data117).concat(data118).concat(data119).concat(data120).concat(data121).concat(data122).concat(data123).concat(data124).concat(data125).concat(data126).concat(data127).concat(data128).concat(data129).concat(data130).concat(data131).concat(data132).concat(data133).concat(data134).concat(data135).concat(data136).concat(data137).concat(data138).concat(data139).concat(data140).concat(data141).concat(data142).concat(data143).concat(data144).concat(data145).concat(data146).concat(data147).concat(data148).concat(data149).concat(data150).concat(data151).concat(data152).concat(data153).concat(data154).concat(data155).concat(data156).concat(data157).concat(data158).concat(data159).concat(data160).concat(data161).concat(data162).concat(data163).concat(data164).concat(data165).concat(data166).concat(data167).concat(data168).concat(data169).concat(data170).concat(data171).concat(data172).concat(data173).concat(data174).concat(data175).concat(data176).concat(data177).concat(data178).concat(data179).concat(data180).concat(data181).concat(data182).concat(data183).concat(data184).concat(data185).concat(data186).concat(data187).concat(data188).concat(data189).concat(data190).concat(data191).concat(data192).concat(data193).concat(data194).concat(data195).concat(data196).concat(data197).concat(data198).concat(data199).concat(data200).concat(data201).concat(data202).concat(data203).concat(data204).concat(data205).concat(data206).concat(data207).concat(data208).concat(data209).concat(data210).concat(data211).concat(data212).concat(data213).concat(data214).concat(data215).concat(data216).concat(data217).concat(data218).concat(data219).concat(data220).concat(data221).concat(data222).concat(data223).concat(data224).concat(data225).concat(data226).concat(data227).concat(data228).concat(data229).concat(data230).concat(data231).concat(data232).concat(data233).concat(data234).concat(data235).concat(data236).concat(data237).concat(data238).concat(data239).concat(data240).concat(data241).concat(data242).concat(data243).concat(data244).concat(data245).concat(data246).concat(data247).concat(data248).concat(data249).concat(data250).concat(data251).concat(data252).concat(data253).concat(data254).concat(data255).concat(data256).concat(data257).concat(data258).concat(data259).concat(data260).concat(data261).concat(data262).concat(data263).concat(data264).concat(data265).concat(data266).concat(data267).concat(data268).concat(data269).concat(data270).concat(data271).concat(data272).concat(data273).concat(data274).concat(data275).concat(data276).concat(data277).concat(data278).concat(data279).concat(data280).concat(data281).concat(data282).concat(data283).concat(data284).concat(data285).concat(data286).concat(data287).concat(data288).concat(data289).concat(data290).concat(data291).concat(data292).concat(data293).concat(data294).concat(data295).concat(data296).concat(data297).concat(data298).concat(data299).concat(data300).concat(data301).concat(data302).concat(data303).concat(data304).concat(data305).concat(data306).concat(data307).concat(data308).concat(data309).concat(data310).concat(data311).concat(data312).concat(data313).concat(data314).concat(data315).concat(data316).concat(data317).concat(data318).concat(data319).concat(data320).concat(data321).concat(data322).concat(data323).concat(data324).concat(data325).concat(data326).concat(data327).concat(data328).concat(data329).concat(data330).concat(data331).concat(data332).concat(data333).concat(data334).concat(data335).concat(data336).concat(data337).concat(data338).concat(data339).concat(data340).concat(data341).concat(data342).concat(data343).concat(data344).concat(data345).concat(data346).concat(data347).concat(data348).concat(data349).concat(data350).concat(data351).concat(data352).concat(data353).concat(data354).concat(data355).concat(data356).concat(data357).concat(data358).concat(data359).concat(data360).concat(data361).concat(data362).concat(data363).concat(data364).concat(data365).concat(data366).concat(data367).concat(data368).concat(data369).concat(data370).concat(data371).concat(data372).concat(data373).concat(data374).concat(data375).concat(data376).concat(data377).concat(data378).concat(data379).concat(data380).concat(data381).concat(data382).concat(data383).concat(data384).concat(data385).concat(data386).concat(data387).concat(data388).concat(data389).concat(data390).concat(data391).concat(data392).concat(data393).concat(data394).concat(data395).concat(data396).concat(data397).concat(data398).concat(data399).concat(data400)

// async function loadData() {
  //   // 使用 fetch 或其他方法載入 data1
  //   const response1 = await fetch('data1.js');
  //   let data1 = await response1.json();

  //   // 使用 fetch 或其他方法載入 data2
  //   const response2 = await fetch('data2.js');
  //   let data2 = await response2.json();
  //   // 合併數據
  //   const data = data1.concat(data2);

  //   // 載入完成後進行其他操作
  //   console.log('data 1+2 load');
  // }
  // // 調用異步函數
  // loadData();
</script>

<script>
// var data = data1.concat(data2);
let cc;
function search() {
  // var data = data1.concat(data2);
  document.getElementById("loading-spinner").style.display = "block";

  const startTime = new Date(); // 記錄開始時間
  const result_time = document.getElementById('result-time');
  result_time.innerHTML =  "----";

    const searchInput = document.getElementById('searchInput');
    const keyword = searchInput.value.toLowerCase().replace(/[^\w\s\u4e00-\u9fa5]/g, '').split(' ');
    console.log(keyword);
    let maxMatches = 0;
    let matchedTitles = [];
    let matchedTitles2 = [];
    let flag = '0';

    for (let i = 0; i < data.length; i++) {
        const content = data[i]['content'].toLowerCase().replace(/\s/g, '').replace(/[^\w\s\u4e00-\u9fa5]/g, '');
        // console.log(content);
        // if (content.includes(keyword)) {
            if (keyword.every(char => content.includes(char))) {
        //   const matches = keyword.some(char => content.includes(char)).length;
        //   const matches = keyword.filter(char => content.includes(char)).length;
        // if ((mergedSearchKeyword.every(keyword => mergedmonster_word.includes(keyword)))){
        //   console.log(matches);
        //   if (keyword.every(char => content.includes(char))) {
                // if (matches >= maxMatches) {
                // maxMatches = matches;
        matchedTitles.push(data[i]['title']);
        // matchedTitles.sort();

          // console.log('matchedTitles=',matchedTitles);
                // }
            // }
        }
    }

// // 按名称和数字排序章节
// matchedTitles.sort(function(a, b) {
//     var nameA = a.match(/^(.*?)_html/)[0];
//     var nameB = b.match(/^(.*?)_html/)[0];
//     var numA = parseInt(a.match(/html(\d+)/)[1]);
//     var numB = parseInt(b.match(/html(\d+)/)[1]);
    
//     if (nameA < nameB) return -1;
//     if (nameA > nameB) return 1;
//     return numA - numB;
// });

// // 打印排序后的章节列表
// console.log(matchedTitles);

// 打印排序后的章节列表
// 使用自定义排序函数进行排序
// matchedTitles.sort(customSort);

// 打印排序后的章节列表
// console.log(matchedTitles);

//     // // 對 matchedTitles 進行排序
// const sortedTitles =
//  matchedTitles.sort((a, b) => {
//   const regex = /(\d+)/;
//   const [, prefixA, numA] = a.match(regex);
//   const [, prefixB, numB] = b.match(regex);

//   if (numA < numB) {
//     return -1;
//   } else if (numA > numB) {
//     return 1;
//   } else {
//     return parseInt(numA) - parseInt(numB);
//   }
// });
// console.log(sortedTitles);
// matchedTitles.sort();
    // matchedTitles.sort((a, b) => {
    //     const regex = /_html(\d+)\.txt/;
    //     const numA = parseInt(a.match(regex)[1]);
    //     const numB = parseInt(b.match(regex)[1]);
    //     const prefixA = a.split('_html')[0];
    //     const prefixB = b.split('_html')[0];
    //     if( prefixA !== prefixB){
    //       if (numA < numB) {
    //         return -1;
    //       } else if (numA > numB) {
    //         return 1;
    //       }
    //       return numA - numB;
    //     }
    //     else{
    //     // return 0;
    //     }
    //     // return -1;
    // }); 
          // console.log('matchedTitles@2222=',matchedTitles);


    setTimeout(console.log('in-for'),10);
    // for (var cc = 0; cc < matchedTitles.length; cc++) {
    //     // 其他程式碼...
    //     const prefix = matchedTitles[cc].split('.txt')[0];
    //     console.log('cc=', cc,prefix);
    //     const htmlFileName = `${prefix}.html`;
    //     let findurl = '';
    //     redirectToURL(htmlFileName, function(result) {
    //     findurl = result;
    //       console.log('findurl=', typeof findurl, findurl);
    //     const link = `<a href="${findurl}">${prefix.replace('_html','_第')+'章'}</a>`;
    //     // setTimeout(10);
    //     matchedTitles2.push(link);
    //       // console.log('matchedTitles2-1=', matchedTitles2);
    //       console.log('lengh=',matchedTitles2.length,matchedTitles.length)
    //   if (matchedTitles2.length == matchedTitles.length) {
    //       flag = '1';
    //       console.log('flag=1');
    //       console.log('matchedTitles2=',matchedTitles2);
    //       console.log('inmmmmmm');
    //       const result = document.getElementById('result');
    //       result.innerHTML = `匹配最多的標題為：<br>${matchedTitles2.join('<br>')}`;
    //       // result.innerHTML = `匹配最多的標題為：<br>${matchedTitles.join('<br>')}`;
    //       console.log('matchedTitles2=',matchedTitles2);
    //       // const result = document.getElementById('result');
    //       // setTimeout(console.log('matchedTitles2=',matchedTitles2),0);
    //       // setTimeout(result.innerHTML = `匹配最多的標題為：<br>${matchedTitles2.join('<br>')}`,10);
    //     }
    //   });

    //   }
    // 建立一個 Promise 函式，用於處理非同步操作
function processTitle(prefix) {
  return new Promise((resolve, reject) => {
    const htmlFileName = `${prefix}.html`;
    redirectToURL(htmlFileName, function(callback) {
      // const url = result.result; // 獲取網址
      // console.log("calllll",callback)
      // const link = `<a href="${url}">${prefix.replace('_html','_第')+'章'}</a>`;
      const link = `<div><a href="${callback}" target="_blank">${prefix.replace('_html','_第')+'章'}</a></div>`;
      resolve(link);
    });
  });
}

// // 定義 async 函式，用於處理非同步操作
// async function processTitles() {
//   for (var cc = 0; cc < matchedTitles.length; cc++) {
//     const prefix = matchedTitles[cc].split('.txt')[0];
//     // console.log('cc=', cc, prefix);
//     const link = await processTitle(prefix);
//     matchedTitles2.push(link);
//     // console.log('lengh=', matchedTitles2.length, matchedTitles.length);
//   }
  
//   // console.log('matchedTitles2=', matchedTitles2);
//   console.log('print results');
//   document.getElementById("loading-spinner").style.display = "none";
//   const result = document.getElementById('result');
//   result.innerHTML = `<div>匹配最多的標題為：</div><br>${matchedTitles2.join(' ')}`;
//   // result.innerHTML = `匹配最多的標題為：<br>${matchedTitles2.join('<br>')}`;
// }
// 定義 async 函式，用於處理非同步操作
async function processTitles() {
  for (var cc = 0; cc < matchedTitles.length; cc++) {
    const prefix = matchedTitles[cc].split('.txt')[0];
    const link = await processTitle(prefix);
    matchedTitles2.push(link);
    // console.log('lengh=', matchedTitles2.length, matchedTitles.length);
    await delay(1); // 延遲 500 毫秒
    printResult(matchedTitles2.join(' '), matchedTitles2.length); // 顯示當前結果
  }
  
  console.log('print results');
  document.getElementById("loading-spinner").style.display = "none";
  const result = document.getElementById('result');
  result.innerHTML = `<div> 共有${matchedTitles2.length}筆 匹配的章節：</div><br>${matchedTitles2.join(' ')}`;
  // result.innerHTML = `匹配最多的標題為：<br>${matchedTitles2.join('<br>')}`;
}

// 延遲函式，用於等待一段時間
function delay(ms) {
  return new Promise(resolve => setTimeout(resolve, ms));
}

// 顯示結果函式
function printResult(text, count) {
  const result = document.getElementById('result');
  result.innerHTML = `<div> 共有${count}筆 匹配的章節：</div><br>${text}`;
}

// processTitles();
// 呼叫 async 函式開始處理
processTitles()
.then(() => {
  const endTime = new Date(); // 記錄結束時間
  const duration = endTime - startTime; // 計算經過的時間（毫秒）

  const minutes = Math.floor(duration / 60000); // 計算分鐘數
  const seconds = (duration % 60000) / 1000; // 計算秒數，保留小數部分

  let displayTime = '';
  if (minutes > 0) {
    displayTime += `${minutes} 分 `;
  }
  displayTime += `${seconds.toFixed(3)} 秒`;
  const result_time = document.getElementById('result-time');
  result_time.innerHTML = `搜尋完成，總共花費時間: ${displayTime} `;
  // setTimeout(() => {    console.log(`搜尋完成，總共花費時間: ${displayTime} `);}, 10);
})
.catch(error => {
  console.error('搜尋發生錯誤', error);
});
}
// function redirectToURL(fileName, callback) {
//   const sitemapUrl = 'https://jimmy-shian.github.io/novel/sitemap.xml';
//   let finalurl = '';
//   fetch(sitemapUrl)
//     .then(response => {
//       if (response.status === 200) {
//         return response.text();
//       } else {
//         throw new Error('無法取得網站地圖');
//       }
//     })
//     .then(xml => {
//       const parser = new DOMParser();
//       const doc = parser.parseFromString(xml, 'text/xml');
//       const urlElements = doc.querySelectorAll('url');
//       for (let i = 0; i < urlElements.length; i++) {
//         const locElement = urlElements[i].querySelector('loc');
//         const url = locElement.textContent;
//         const baseUrl = url.substring(0, url.lastIndexOf('/'));
//         const promise = searchHTMLInFolder(baseUrl, fileName);
//         promise.then(result => {
//           if (result !== undefined) {
//             // console.log('result=', typeof result, result);
//             callback(result);
//           }
//         });
//       }
//     });
// }
function redirectToURL(fileName, callback) {
  const sitemapUrl = 'https://jimmy-shian.github.io/novel/sitemap.xml';
  let finalurl = '';
  fetch(sitemapUrl)
    .then(response => {
      if (response.status === 200) {
        return response.text();
      } else {
      }
    })
    .then(xml => {
      const parser = new DOMParser();
      const doc = parser.parseFromString(xml, 'text/xml');
      const urlElements = doc.querySelectorAll('url');
      for (let i = 0; i < urlElements.length; i++) {
        const locElement = urlElements[i].querySelector('loc');
        const url = locElement.textContent;
        const baseUrl = url.substring(0, url.lastIndexOf('/'));
        // console.log('result=', baseUrl);
        const promise = searchHTMLInFolder(baseUrl, fileName);
        promise.then(result => {
          if (result.result !== undefined) {
            // cc += result.result;
            // console.log('result=', typeof result, result);
            callback(result.result);
            // const url = result.result; // 獲取網址
            // callback(url);
          }
        });
      }
    })
    .catch(error => {
      return null;
      // 在catch塊中處理錯誤
      // 例如記錄錯誤、顯示自定義錯誤訊息等
      // console.error('錯誤處理:', error.message);
    });
}
// function searchHTMLInFolder(baseUrl, fileName) {
//   return fetch(baseUrl + '/' + fileName)
//     .then(response => {
//       if (response.status === 200) {
//         setTimeout(console.log('wait'), 10)
//         return baseUrl + '/' + fileName;
//       } else {
//         return undefined;
//       }
//     })
//     .catch(error => {
//       return undefined;
//     });
// }
function searchHTMLInFolder(baseUrl, fileName) {
  const url = new URL(baseUrl + '/' + fileName);
  const errors = [];
  
  return fetch(url)
    .then(response => {
      if (response.ok) {
        return baseUrl + '/' + fileName;
      } else {
        errors.push('Request failed with status: ' + response.status);
        return undefined;
      }
    })
    .catch(error => {
      errors.push('Request failed with error: ' + error.message);
      return undefined;
    })
    .then(result => {
      return { result, errors };
    });
}
</script>

<!-- <script src="data.js" defer></script> -->

</body>
</html>
